#  –ü–∞–≤–ª–æ–≤ –î –í –ò–£7-13–ë

# –ü—Ä–æ–≥—Ä–∞–º–º–∞, –∫–æ—Ç–æ—Ä–∞—è –¥–ª—è –∑–∞–¥–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π y1 = x^2 - sin(pi * x) –∏
# y2 = 7.5x^4 - 11x^3 + 3.8x^2 + 0.4x - 0.98) –≤—ã–≤–æ–¥–∏—Ç —Ç–∞–±–ª–∏—Ü—É –∑–Ω–∞—á–µ–Ω–∏–π —ç—Ç–∏—Ö
# —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä–æ–º –æ—Ç—Ä–µ–∑–∫–µ. –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∫–æ–ª-–≤–æ –∑–∞—Å–µ—á–µ–∫ (–æ—Ç 4 –¥–æ 8)
# –∏ —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ–∏–∫ –æ–¥–Ω–æ–π –∏–∑ –Ω–∏—Ö (y1)
# 1) –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è ùë¶ –∏ x, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è

from math import sin, pi

# –ë–ª–æ–∫ –≤–≤–æ–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–π
start_x = float(input('–í–≤–µ–¥–∏—Ç–µ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞: '))
end_x = float(input('–í–≤–µ–¥–∏—Ç–µ –∫–æ–Ω–µ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞: '))
h = float(input('–í–≤–µ–¥–∏—Ç–µ —à–∞–≥ —Ä–∞–∑–±–∏–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –æ—Ç—Ä–µ–∑–∫–∞: '))

# –ë–ª–æ–∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

if start_x >= end_x:
    print('–ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ –∫–æ–Ω–µ—á–Ω–æ–º—É')
    start_x = float(input('–í–≤–µ–¥–∏—Ç–µ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞: '))
    end_x = float(input('–í–≤–µ–¥–∏—Ç–µ –∫–æ–Ω–µ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞: '))
elif h <= 0:
    print('–®–∞–≥ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–µ–Ω –Ω—É–ª—é')
    h = float(input('–í–≤–µ–¥–∏—Ç–µ —à–∞–≥ —Ä–∞–∑–±–∏–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –æ—Ç—Ä–µ–∑–∫–∞: '))
elif end_x - start_x < h:
    print('–®–∞–≥ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ —Ä–∞–∑–Ω–∏—Ü—ã –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∏ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞')
    h = float(input('–í–≤–µ–¥–∏—Ç–µ —à–∞–≥ —Ä–∞–∑–±–∏–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –æ—Ç—Ä–µ–∑–∫–∞: '))

eps = 1e-12
x = start_x
y1_min = float('+inf')
y2_min = float('+inf')
y1_max = float('-inf')
x_min = 0

# –ë–ª–æ–∫ –≤—ã–≤–æ–¥–∞ —Ç–∞–±–ª–∏—Ü—ã
print("-" * 46)
print(f'| {"x":^12} | {"y1":^12} | {"y2":^12} |')
print("-" * 46)

while x <= (end_x + eps):
    y1 = x ** 2 - sin(pi * x)
    y2 = 7.5 * x ** 4 - 11 * x ** 3 + 3.8 * x ** 2 + 0.4 * x - 0.98
    if abs(x) < eps:
        print(f"| {0.0:^12.5g} | {y1:^12.5g} | {y2:^12.5g} |")
    else:
        print(f"| {x:^12.5g} | {y1:^12.5g} | {y2:^12.5g} |")
    if y1 < y1_min:
        y1_min = y1
        x_min = x
    if y2 < y2_min:
        y2_min = y2
    if y1 > y1_max:
        y1_max = y1
    x += h
print("-" * 46)

# –ë–ª–æ–∫ –≤–≤–æ–¥–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞—Å–µ—á–µ–∫
scale = int(input('–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—Å–µ—á–µ–∫: '))  # –∫–æ–ª-–≤–æ –∑–∞—Å–µ—á–µ–∫

if not (4 <= scale <= 8):
    print('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—Å–µ—á–µ–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 4 –¥–æ 8')
    scale = int(input('–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—Å–µ—á–µ–∫: '))

delta = (y1_max - y1_min) / (scale - 1)  # —á–∏—Å–ª–æ –º–µ–∂–¥—É –∑–∞—Å–µ—á–∫–∞–º–∏
width = 100  # —à–∏—Ä–∏–Ω–∞ –ø–æ–ª—è
point_scale = width / (y1_max - y1_min)  # –∫–æ—ç—Ñ—Ñ–∏—Ü–µ–Ω—Ç –º–∞c—à—Ç–∞–±–∞ –Ω–∞ –ø–æ–ª–µ
chart_header = ' ' * 13  # –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≥—Ä–∞—Ñ–∏–∫–∞
y = y1_min
i = 0

# —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –≥—Ä–∞—Ñ–∏–∫–∞
while i < scale:
    if i == 0:
        chart_header += f"{y: <{int(width / scale)}.5g}"
    elif i == scale - 1:
        chart_header += f'{y: >{int(width / scale)}.5g}'
    else:
        if width / scale == 0:
            chart_header += f"{y: ^{int(width / scale)}.5g}"
        else:
            chart_header += f"{y: ^{int(width / scale) + 1}.5g}"
    y += delta
    i += 1
print(chart_header)

# –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–æ–±–µ–ª–æ–≤ –¥–æ OX
ox = 13 + (int(point_scale * (0 - y1_min)) - 1)
x = start_x

while x <= (end_x + eps):
    y1 = x ** 2 - sin(pi * x)

    # –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–æ–±–µ–ª–æ–≤ –¥–æ –∑–≤–µ–∑–¥–æ—á–∫–∏
    spaces_before = (int(point_scale * (y1 - y1_min)) - 1)

    # –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–æ–±–µ–ª–æ–≤ –ø–æ—Å–ª–µ –∑–≤–µ–∑–¥–æ—á–∫–∏
    spaces_after = (width - 12 - int(point_scale * (y1 - y1_min)) - 1)

    # –≥—Ä–∞—Ñ–∏–∫ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –ûX
    if y1_min <= 0 <= y1_max:
        if abs(x) <= eps:
            s = f'{0.0:<12.5g}|' + ' ' * spaces_before + '*' + ' ' * spaces_after
        else:
            s = f'{x:<12.5g}|' + ' ' * spaces_before + '*' + ' ' * spaces_after
        if s[ox] != '*':
            s = s[:ox] + '|' + s[ox + 1:]

        print(s)

    # –≥—Ä–∞—Ñ–∏–∫ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –ûX
    else:
        if abs(x) < eps:
            print(f'{0.0:<12.5g}|' + ' ' * spaces_before + '*' + ' ' * spaces_after)
        else:
            print(f'{x:<12.5g}|' + ' ' * spaces_before + '*' + ' ' * spaces_after)

    x += h

print('\n')
print(f'–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ y1 = {y1_min:.5g} –ø—Ä–∏ x_min = {x_min:.5g}')
print(f'–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ y2 = {y2_min:.5g}')
